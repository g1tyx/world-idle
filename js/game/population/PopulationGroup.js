define(["entity/Population","population/DeathRates","population/BirthRates"],function(t,o,e){var a=function(t){this.game=t,this.meta=t.getMeta().population,this.deathRates=(new o).setup(this.meta.deathRatesStrategy),this.birthRates=(new e).setup(this.meta.birthRatesStrategy),this.mood=100,this.totalPopulation=new BigNumber(this.meta.startingPopulation),this.resetPopulationGroups(),this.workerData=null,this.resourceUsageData=null,this.resourceProduction=null,this.resourceProductionByResource=null,this.populationChangeData=null,this.moodData=null}
return a.prototype.getMeta=function(){return this.meta},a.prototype.setPopulations=function(t){this.populations=t},a.prototype.getPopulations=function(){return this.populations},a.prototype.getTotalPopulation=function(){return this.totalPopulation},a.prototype.setTotalPopulation=function(t){this.totalPopulation=new BigNumber(t)},a.prototype.getDeathRates=function(){return this.deathRates},a.prototype.getBirthRates=function(){return this.birthRates},a.prototype.setMood=function(t){this.mood=t},a.prototype.getMood=function(){return this.mood},a.prototype.setResourceUsageData=function(t){this.resourceUsageData=t},a.prototype.getResourceUsageData=function(){return this.resourceUsageData},a.prototype.setResourceProduction=function(t){this.resourceProduction=t},a.prototype.getResourceProduction=function(){return this.resourceProduction},a.prototype.setResourceProductionByResource=function(t){this.resourceProductionByResource=t},a.prototype.getResourceProductionByResource=function(){return this.resourceProductionByResource},a.prototype.setWorkerData=function(t){this.workerData=t},a.prototype.getWorkerData=function(){return this.workerData},a.prototype.setMoodData=function(t){this.moodData=t},a.prototype.getMoodData=function(){return this.moodData},a.prototype.setPopulationChangeData=function(t){this.populationChangeData=t},a.prototype.getPopulationChangeData=function(){return this.populationChangeData},a.prototype.resetPopulationGroups=function(){this.populations=[]
for(var o in this.meta.startingDistribution)this.populations.push(new t({age:o,population:this.meta.startingDistribution[o],males:this.meta.birthBalanceForMen}))},a.prototype.getSaveData=function(){for(var t={mood:this.mood,totalPopulation:this.totalPopulation.toString(),populations:[]},o=0;o<this.populations.length;o++)t.populations[o]=this.populations[o].getSaveData()
return t},a.prototype.updateFromSaveData=function(o){this.setMood(o.mood),this.setTotalPopulation(o.totalPopulation)
for(var e=[],a=0;a<o.populations.length;a++)e[a]=new t({}),e[a].updateFromSaveData(o.populations[a])
this.populations=e},a})
